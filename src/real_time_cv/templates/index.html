<!DOCTYPE html>
<html>
<head>
    <title>Video Upload and Processing</title>
</head>
<body>
    <h1>Video Upload and Processing</h1>
    <form action="/video_feed" method="POST" enctype="multipart/form-data">
        <input type="file" name="video">
        <input type="submit" value="Upload and Process">
    </form>
    <br>
    <img id="processedFrameElement">

    <script>
        const processedFrameElement = document.getElementById('processedFrameElement');

        // Continuously update the processed frame
        setInterval(() => {
            fetch('/video_feed')
                .then(response => response.blob())
                .then(blob => {
                    const reader = new FileReader();
                    reader.onload = () => {
                        processedFrameElement.src = reader.result;
                    };
                    reader.readAsDataURL(blob);
                })
                .catch(error => console.error('Error retrieving processed frame:', error));
        }, 100);
    </script>
</body>
</html>
